@using Library.Models.Entity
@model List<tblannouncements>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Layout.cshtml";
    string color = "";
}

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<br />
<h1 class="bg-info">Announcements</h1>
<br />


<table class="table table-bordered">
    <tr>
        <th>ID</th>
        <th>Category</th>
        <th>Date</th>
        <th>Contents</th>
        <th>Delete</th>
    </tr>
    @foreach (var x in Model)
    {
        if (x.category == "Welcome")
        {
            color = "bg-primary text-white";
        }
        if (x.category == "New Books")
        {
            color = "bg-success text-white";
        }
        if (x.category == "Delayed")
        {
            color = "bg-danger text-white";
        }
        if (x.category == "Writer Meeting")
        {
            color = "bg-success text-white";
        }
        if (x.category == "Information")
        {
            color = "bg-info text-white";
        }
        <tr class="@color">
            <td>@x.id</td>
            <td>@x.category</td>
            <td>@Convert.ToDateTime(x.date).ToString("dd/MM/yyyy")</td>
            <td><a href="/Announcements/AnnouncementDetails/@x.id" class="btn btn-warning" style="background-color:greenyellow;color:black">Contents</a></td>
            <td>@Html.ActionLink("Delete", "DeleteAnnouncement", new { id = x.id }, new { @class = "btn btn-danger", onclick = "return confirm('Do you want to delete?')" })</td>
        </tr>
    }
</table>
<a href="/Announcements/NewAnnouncement/" class="btn btn-primary">Create New Announcement</a>



